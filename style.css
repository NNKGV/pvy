body{
    margin:0;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background:#e89c9c;
    font-family:'Segoe UI', sans-serif;
}

.scene{
    perspective:1000px;
}

.envelope{
    position:relative;
    width:320px;
    height:240px;
    background:#f8c8c8;
    cursor:pointer;
}

.flap{
    position:absolute;
    width:100%;
    height:100%;
    background:#f3a6a6;
    clip-path: polygon(0 0, 50% 50%, 100% 0);
    transform-origin:top;
    transition:1s;
}

.letter{
    position:absolute;
    width:100%;
    height:100%;
    background:white;
    top:0;
    left:0;
    display:flex;
    flex-direction:column;
    align-items:center;
    padding:15px;
    box-sizing:border-box;
    transform:translateY(100%);
    transition:1s;
    overflow:hidden;
}

/* Khi mở */
.envelope.open .flap{
    transform:rotateX(180deg);
}

.envelope.open .letter{
    transform:translateY(0);
}

/* Trái tim */
.heart{
    width:80px;
    height:80px;
    background:#ff2e63;
    position:relative;
    transform:rotate(-45deg);
    animation:beat 1s infinite;
    margin-top:10px;
}

.heart::before,
.heart::after{
    content:"";
    position:absolute;
    width:80px;
    height:80px;
    background:#ff2e63;
    border-radius:50%;
}

.heart::before{ top:-40px; left:0; }
.heart::after{ left:40px; top:0; }

@keyframes beat{
    0%,100%{ transform:scale(1) rotate(-45deg); }
    50%{ transform:scale(1.15) rotate(-45deg); }
}

/* ẨN BAN ĐẦU */
.message,
.chat-box,
.chat-display{
    opacity:0;
    transform:translateY(20px);
    transition:1s;
}

/* CHỈ HIỆN SAU KHI MỞ */
.envelope.open .message,
.envelope.open .chat-box,
.envelope.open .chat-display{
    opacity:1;
    transform:translateY(0);
}

.message{
    color:#ff2e63;
    margin:10px 0;
}

.chat-box{
    display:flex;
    gap:5px;
    margin-top:10px;
}

.chat-box input{
    flex:1;
    padding:5px;
}

.chat-box button{
    background:#ff2e63;
    color:white;
    border:none;
    padding:5px 10px;
    cursor:pointer;
}

.chat-display{
    margin-top:10px;
    width:100%;
    max-height:60px;
    overflow:auto;
    font-size:14px;
}
